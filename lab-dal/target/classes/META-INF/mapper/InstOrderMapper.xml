<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="InstOrderMapper">
  <resultMap id="BaseResultMap" type="com.snoweagle.console.dal.domain.InstOrder">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="inst_order_id" jdbcType="BIGINT" property="instOrderId" />
    <result column="inst_order_no" jdbcType="VARCHAR" property="instOrderNo" />
    <result column="request_type" jdbcType="VARCHAR" property="requestType" />
    <result column="fund_channel_code" jdbcType="VARCHAR" property="fundChannelCode" />
    <result column="fund_channel_api" jdbcType="VARCHAR" property="fundChannelApi" />
    <result column="currency" jdbcType="CHAR" property="currency" />
    <result column="amount" jdbcType="DECIMAL" property="amount" />
    <result column="status" jdbcType="CHAR" property="status" />
    <result column="communicate_type" jdbcType="CHAR" property="communicateType" />
    <result column="communicate_status" jdbcType="CHAR" property="communicateStatus" />
    <result column="flag" jdbcType="CHAR" property="flag" />
    <result column="gmt_submit" jdbcType="TIMESTAMP" property="gmtSubmit" />
    <result column="retry_times" jdbcType="INTEGER" property="retryTimes" />
    <result column="gmt_next_retry" jdbcType="TIMESTAMP" property="gmtNextRetry" />
    <result column="gmt_create" jdbcType="TIMESTAMP" property="gmtCreate" />
    <result column="gmt_modified" jdbcType="TIMESTAMP" property="gmtModified" />
    <result column="memo" jdbcType="VARCHAR" property="memo" />
    <result column="extension" jdbcType="VARCHAR" property="extension" />
    <result column="portion" jdbcType="DECIMAL" property="portion" />
    <result column="product_code" jdbcType="VARCHAR" property="productCode" />
    <result column="gmt_booking_submit" jdbcType="TIMESTAMP" property="gmtBookingSubmit" />
    <result column="payment_seq_no" jdbcType="VARCHAR" property="paymentSeqNo" />
    <result column="inst_user_no" jdbcType="VARCHAR" property="instUserNo" />
    <result column="biz_time" jdbcType="TIMESTAMP" property="bizTime" />
    <result column="channel_date" jdbcType="TIMESTAMP" property="channelDate" />
    <result column="biz_type" jdbcType="CHAR" property="bizType" />
    <result column="fund_date" jdbcType="TIMESTAMP" property="fundDate" />
    <result column="pre_inst_order_no" jdbcType="VARCHAR" property="preInstOrderNo" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    inst_order_id, inst_order_no, request_type, fund_channel_code, fund_channel_api, 
    currency, amount, status, communicate_type, communicate_status, flag, gmt_submit, 
    retry_times, gmt_next_retry,date_format(gmt_create,'%Y%m%d  %H:%i:%s') gmt_create,date_format(gmt_modified,'%Y%m%d  %H:%i:%s') gmt_modified, memo, extension, portion, 
    product_code, gmt_booking_submit, payment_seq_no, inst_user_no, biz_time, channel_date, 
    biz_type, fund_date, pre_inst_order_no
  </sql>
  <select id="selectByDynamicParams" parameterType="com.snoweagle.console.common.domain.order.OrderRequest" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from tt_inst_order  
    where 1=1
    <if test="instOrderNo !=null and instOrderNo !=''">
        and inst_order_no like CONCAT('%',#{instOrderNo,jdbcType=VARCHAR},'%')
    </if>
    <if test="fundChannelApi != null and fundChannelApi != ''">
    and fund_channel_api like CONCAT('%',#{fundChannelApi,jdbcType=VARCHAR},'%')
    </if>
    <if test="paymentSeqNo != null and paymentSeqNo != ''">
    and payment_seq_no like CONCAT('%',#{paymentSeqNo,jdbcType=VARCHAR},'%')
    </if>
    <if test="gmtStart != null and gmtStart!=''">
    and gmt_create >= #{gmtStart,jdbcType=TIMESTAMP}
    </if>
    <if test="gmtEnd != null and gmtEnd != ''">
    <![CDATA[ and gmt_create <=  #{gmtEnd,jdbcType=TIMESTAMP} ]]>
    </if>
    order by gmt_create
  </select>
</mapper>